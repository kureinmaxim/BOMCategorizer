# ‚öôÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –∏ —Ä–µ–ª–∏–∑—É

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–µ–ª–∏–∑–∞: –æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–æ–≤.

> **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**
> *   **Windows:** `python build_installer.py`
> *   **macOS:** `./build_macos.sh`
> *   **–í–µ—Ä—Å–∏–∏:** `python update_version.py status`

---

## üîÑ 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ (Versioning)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–π**. 
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã ‚Äî —ç—Ç–æ **—à–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**.

### üìÇ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–µ—Ä—Å–∏–∏?
*   **Standard Edition:** `config.json.template`
*   **Modern Edition:** `config_qt.json.template`

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–π—Ç–µ –≤–µ—Ä—Å–∏—é –≤—Ä—É—á–Ω—É—é –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö `config.json` –∏–ª–∏ `.iss`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É `update_version.py`.

### üõ† –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ª–∏ –≤–µ—Ä—Å–∏–∏.

```bash
python update_version.py status
```
*–ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è, —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.*

#### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `set` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —à–∞–±–ª–æ–Ω—ã, –¥–∞—Ç—É —Ä–µ–ª–∏–∑–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã.

```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ Modern Edition
python update_version.py set modern 4.5.0

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ Standard Edition
python update_version.py set standard 3.5.0

# –û–±–Ω–æ–≤–∏—Ç—å –æ–±–µ –≤–µ—Ä—Å–∏–∏ —Å—Ä–∞–∑—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –º–∞–∂–æ—Ä–Ω—ã—Ö —Ä–µ–ª–∏–∑–æ–≤)
python update_version.py set both 5.0.0
```

#### –®–∞–≥ 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
–ö–æ–º–∞–Ω–¥–∞ `set` –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –µ—Å–ª–∏ –≤—ã —Å–∫–∞—á–∞–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ Git, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
python update_version.py sync
```
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç sync:**
1.  –û–±–Ω–æ–≤–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ `config.json` / `config_qt.json` (–Ω–µ —Ç—Ä–æ–≥–∞—è –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).
2.  –û–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–∞ `installer_clean.iss` –∏ `installer_qt.iss`.
3.  –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ Python –∫–æ–¥–µ.

---

## üì¶ 2. –°–±–æ—Ä–∫–∞ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–æ–≤ (Build)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤–µ—Ä—Å–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã, –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Å–±–æ—Ä–∫–µ.

### ü™ü Windows

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `build_installer.py`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º Inno Setup.

**–ó–∞–ø—É—Å–∫:**
```powershell
python build_installer.py
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1.  –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é —Å–æ–±–∏—Ä–∞—Ç—å (1 - Standard, 2 - Modern).
2.  –°–æ–∑–¥–∞—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É `temp_installer`.
3.  –°–∫–æ–ø–∏—Ä—É–µ—Ç —Ç—É–¥–∞ –∫–æ–¥, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
4.  –ó–∞–ø—É—Å—Ç–∏—Ç Inno Setup Compiler.
5.  –ì–æ—Ç–æ–≤—ã–π `.exe` –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** `BOMCategorizerModernSetup.exe` –∏–ª–∏ `BOMCategorizerSetup.exe`

### üçé macOS

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `build_macos.sh`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç `.dmg` –æ–±—Ä–∞–∑.

**–ó–∞–ø—É—Å–∫:**
```bash
./build_macos.sh
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1.  –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –≤–µ—Ä—Å–∏—é.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç `py2app` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `.app` –±–∞–Ω–¥–ª–∞.
3.  –£–ø–∞–∫—É–µ—Ç `.app` –≤ `.dmg` –æ–±—Ä–∞–∑.

> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** `BOMCategorizer-4.5.0-macOS-Modern.dmg`

---

## üöÄ 3. –ü—É–±–ª–∏–∫–∞—Ü–∏—è (Release)

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub:

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
    ```bash
    python update_version.py status  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ —á–∏—Å—Ç–æ
    ```

2.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
    ```bash
    python update_version.py set modern 4.5.0
    ```

3.  **–°–±–æ—Ä–∫–∞:**
    ```bash
    python build_installer.py  # –°–æ–±–∏—Ä–∞–µ–º Windows
    ./build_macos.sh           # –°–æ–±–∏—Ä–∞–µ–º macOS (–µ—Å–ª–∏ –µ—Å—Ç—å Mac)
    ```

4.  **Git Commit:**
    ```bash
    git add config_qt.json.template config.json.template
    git add installer_qt.iss installer_clean.iss
    git commit -m "Release: v4.5.0"
    git tag v4.5.0
    git push origin main --tags
    ```

5.  **GitHub Release:**
    –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ `.exe` –∏ `.dmg` —Ñ–∞–π–ª—ã –≤ –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑ –Ω–∞ GitHub.

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### ‚ùå –û—à–∏–±–∫–∞ "Inno Setup –Ω–µ –Ω–∞–π–¥–µ–Ω"
–°–∫—Ä–∏–ø—Ç –∏—â–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤ `C:\Program Files (x86)\Inno Setup 6\ISCC.exe`.
–ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–æ–π –ø—É—Ç—å, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `build_installer.py`:
```python
INNO_SETUP_PATH = r"D:\Apps\Inno Setup 6\ISCC.exe"
```

### ‚ùå –û—à–∏–±–∫–∞ "PySide6 –Ω–µ –Ω–∞–π–¥–µ–Ω" –≤ offline_packages
–ï—Å–ª–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Modern Edition –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
1.  –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É `offline_packages`.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –∑–∞–Ω–æ–≤–æ ‚Äî —Å–∫—Ä–∏–ø—Ç –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –ø–∞–∫–µ—Ç—ã.
3.  –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é:
    ```powershell
    pip download PySide6 -d offline_packages --platform win_amd64 --python-version 313 --only-binary=:all:
    ```

### ‚ùå –í–µ—Ä—Å–∏–∏ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å
–ï—Å–ª–∏ `status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
1.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python update_version.py sync`.
2.  –≠—Ç–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —à–∞–±–ª–æ–Ω–æ–≤.
